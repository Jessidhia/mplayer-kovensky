<?xml version="1.0" encoding="utf-8"?>
<!-- Synced with r24056  -->
<chapter id="usage">
<title>Použití</title>

<sect1 id="commandline">
<title>Příkazový řádek</title>

<para>
<application>MPlayer</application> využívá komplexní strukturu voleb. Ta sestává
z globálních voleb uváděných jako první, například:
<screen>mplayer -vfm 5</screen>
a voleb zapisovaných za jménem souboru, které se projeví pouze u tohoto jména
souboru/URL/čehokoli, například:
<screen>
mplayer -vfm 5 <replaceable>film1.avi</replaceable> <replaceable>film2.avi</replaceable> -vfm 4
</screen>
</para>

<para>
Můžete seskupovat jména souborů/adresy URL pomocí <literal>{</literal> a
<literal>}</literal>. Toho se dá využít s volbou <option>-loop</option>:
<screen>mplayer { 1.avi -loop 2 2.avi } -loop 3</screen>
Výše uvedený příkaz přehraje soubory v tomto pořadí: 1, 1, 2, 1, 1, 2, 1, 1, 2.
</para>

<para>
Přehrávání souboru:
<synopsis>
<command>mplayer</command><!--
--> [<replaceable>volby</replaceable>]<!--
--> [<replaceable>cesta</replaceable>/]<replaceable>soubor</replaceable>
</synopsis>
</para>

<para>
Jiný způsob přehrání souboru:
<synopsis>
<command>mplayer</command><!--
--> [<replaceable>volby</replaceable>]<!--
--> <replaceable>file:///uri-eskejpovaná-cesta-k-souboru</replaceable>
</synopsis>
</para>

<para>
Přehrávání více souborů:
<synopsis>
<command>mplayer</command><!--
--> [<replaceable>výchozí volby</replaceable>]<!--
--> [<replaceable>cesta</replaceable>/]<replaceable>soubor1</replaceable><!--
--> [<replaceable>volby pro soubor1</replaceable>]<!--
--> <replaceable>soubor2</replaceable><!--
--> [<replaceable>volby pro soubor2</replaceable>] ...
</synopsis>
</para>

<para>
Přehrávání VCD:
<synopsis>
<command>mplayer</command> [<replaceable>volby</replaceable>]<!--
--> vcd://<replaceable>číslo_stopy</replaceable><!--
--> [-cdrom-device <replaceable>/dev/cdrom</replaceable>]
</synopsis>
</para>

<para>
Přehrávání DVD:
<synopsis>
<command>mplayer</command> [<replaceable>volby</replaceable>]<!--
--> dvd://<replaceable>číslo_titulu</replaceable><!--
--> [-dvd-device <replaceable>/dev/dvd</replaceable>]
</synopsis>
</para>

<para>
Přehrávání z WWW:
<synopsis>
<command>mplayer</command> [<replaceable>volby</replaceable>]<!--
--> http://<replaceable>doména.com/soubor.asf</replaceable>
</synopsis>
(rovněž lze použít playlisty)
</para>

<para>
Přehrávání z RTSP:
<synopsis>
<command>mplayer</command> [<replaceable>volby</replaceable>]<!--
--> rtsp://<replaceable>server.priklad.com/JmenoProudu</replaceable>
</synopsis>
</para>

<para>
Příklady:
<screen>
mplayer -vo x11 <replaceable>/mnt/Filmy/Kontakt/kontakt2.mpg</replaceable>
mplayer vcd://<replaceable>2</replaceable> -cdrom-device <replaceable>/dev/hdc</replaceable>
mplayer -afm 3 <replaceable>/mnt/DVDtrailery/alien4.vob</replaceable>
mplayer dvd://<replaceable>1</replaceable> -dvd-device <replaceable>/dev/hdc</replaceable>
mplayer -abs 65536 -delay -0.4 -nobps <replaceable>~/filmy/test.avi</replaceable><!--
--></screen>
</para>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="subosd">
<title>Titulky a OSD</title>

<para>
<application>MPlayer</application> umí zobrazovat titulky spolu s filmem.
V současnosti podporuje tyto formáty:
<itemizedlist>
  <listitem><para>VOBsub</para></listitem>
  <listitem><para>OGM</para></listitem>
  <listitem><para>CC (closed caption)</para></listitem>
  <listitem><para>MicroDVD</para></listitem>
  <listitem><para>SubRip</para></listitem>
  <listitem><para>SubViewer</para></listitem>
  <listitem><para>Sami</para></listitem>
  <listitem><para>VPlayer</para></listitem>
  <listitem><para>RT</para></listitem>
  <listitem><para>SSA</para></listitem>
  <listitem><para>PJS (Phoenix Japanimation Society)</para></listitem>
  <listitem><para>MPsub</para></listitem>
  <listitem><para>AQTitle</para></listitem>
  <listitem><para>
    <ulink url="http://unicorn.us.com/jacosub/">JACOsub</ulink>
  </para></listitem>
</itemizedlist>
</para>

<para>
<application>MPlayer</application> umí vyextrahovat výše uvedené formáty titulků
(<emphasis role="bold">s výjimkou prvních třech</emphasis>) do následujících
cílových formátů zadáním příslušných voleb:
<itemizedlist>
  <listitem><para>MPsub: <option>-dumpmpsub</option></para></listitem>
  <listitem><para>SubRip: <option>-dumpsrtsub</option></para></listitem>
  <listitem><para>MicroDVD: <option>-dumpmicrodvdsub</option></para></listitem>
  <listitem><para>JACOsub: <option>-dumpjacosub</option></para></listitem>
  <listitem><para>Sami: <option>-dumpsami</option></para></listitem>
</itemizedlist>
</para>

<para>
<application>MEncoder</application> umí vyextrahovat DVD titulky do formátu
<link linkend="menc-feat-extractsub">VOBsub</link>.
</para>

<para>
Volby příkazového řádku se pro různé formáty mírně liší:
</para>

<formalpara>
<title>VOBsub titulky</title>
<para>
VOBsub titulky se skládají z velkého (řádově megabajty) <filename>.SUB</filename>
souboru a volitelného <filename>.IDX</filename> a/nebo <filename>.IFO</filename>
souboru. Pokud máte soubory jako
<filename><replaceable>sample.sub</replaceable></filename>,
<filename><replaceable>sample.ifo</replaceable></filename> (volitelný),
<filename><replaceable>sample.idx</replaceable></filename> &ndash; musíte předat
<application>MPlayer</application>u volby <option>-vobsub sample
[-vobsubid <replaceable>id</replaceable>]</option>
(volitelně s plnou cestou). Volba <option>-vobsubid</option> je jako
<option>-sid</option> pro DVD, můžete jí vybírat mezi titulkovými stopami
(jazyky). Je-li <option>-vobsubid</option> vynechána, pak se
<application>MPlayer</application> pokusí použít jazyky zadané volbou
<option>-slang</option> a při selhání použije
<systemitem>langidx</systemitem> v <filename>.IDX</filename>
souboru. Pokud selže i zde, nebudou titulky.
</para>
</formalpara>

<formalpara>
<title>Ostatní titulky</title>
<para>
Ostatní formáty tvoří jediný textový soubor obsahující časování,
umístění a textovou část. Použití: máte-li soubor jako
<filename><replaceable>sample.txt</replaceable></filename>,
musíte předat volbu <option>-sub
<replaceable>sample.txt</replaceable></option> (volitelně s plnou cestou).
</para>
</formalpara>

<variablelist>
<title>Úpravy časování a umístění titulků:</title>
<varlistentry>
  <term><option>-subdelay <replaceable>sec</replaceable></option></term>
    <listitem><para>
    Opozdí titulky o <option><replaceable>sec</replaceable></option> sekund.
    Může být i záporné. Hodnota je přidána k čítači pozice ve filmu.
    </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-subfps <replaceable>RYCHLOST</replaceable></option></term>
    <listitem><para>
    Nastavuje rychlost ve snímcích/sek titulkového souboru (desetinné číslo).
    </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-subpos <replaceable>0-100</replaceable></option></term>
    <listitem><para>
    Nastavuje pozici titulků.
    </para></listitem>
</varlistentry>
</variablelist>

<para>
Pokud se vám zvětšuje rozdíl mezi filmem a titulky, při použití
titulkového souboru formátu MicroDVD, nejspíš se snímková rychlost
titulků a filmu liší. Poznamenejme, že MicroDVD formát používá
pro časování absolutní čísla snímků, ale není v něm informace
o snímkové rychlosti, a proto byste měli s tímto formátem používat volbu
<option>-subfps</option>. Chcete-li tento problém vyřešit trvale,
musíte manuálně převést snímkovou rychlost souboru s titulky.
<application>MPlayer</application> může převod udělat za
vás:

<screen>
mplayer -dumpmicrodvdsub -fps <replaceable>fps_titulků</replaceable> -subfps <replaceable>avi_fps</replaceable> \
    -sub <replaceable>soubor_s_titulky</replaceable> <replaceable>dummy.avi</replaceable>
</screen>
</para>

<para>
O DVD titulcích si přečtěte v sekci <link linkend="dvd">DVD</link>.
</para>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="control">
<title>Ovládání</title>

<para>
<application>MPlayer</application> má plně konfigurovatelnou, příkazy řízenou,
ovládací vrstvu, která vám umožní ovládat <application>MPlayer</application>
pomocí klávesnice, myši, joysticku nebo dálkového ovládače (používající LIRC).
Úplný seznam ovládacích prvků na klávesnici naleznete v man stránce.
</para>

<!-- ********** -->

<sect2 id="ctrl-cfg">
<title>Konfigurace ovládání</title>

<para>
<application>MPlayer</application> umožňuje přiřadit jakoukoli klávesu jakémukoli
příkazu <application>MPlayer</application>u pomocí jednoduchého konfiguračního
souboru.
Syntaxe sestává z názvu klávesy následovaného příkazem. Výchozí umístění
konfiguračního souboru je
<filename>$HOME/.mplayer/input.conf</filename> ale můžete jej potlačit použitím
volby <option>-input <replaceable>konfig</replaceable></option>
(relativní cesty jsou vztaženy k <filename>$HOME/.mplayer</filename>).
</para>

<para>
Úplný seznam podporovaných jmen kláves dostanete příkazem
<command>mplayer -input keylist</command>
a úplný seznam dostupných příkazů příkazem
<command>mplayer -input cmdlist</command>.
</para>

<example id="input_control_file">
<title>Jednoduchý vstupní ovládací soubor</title>
<programlisting>
##
## Vstupní soubor ovládání MPlayeru
##

RIGHT seek +10
LEFT seek -10
- audio_delay 0.100
+ audio_delay -0.100
q quit
&gt; pt_step 1
&lt; pt_step -1
ENTER pt_step 1 1<!--
--></programlisting>
</example>
</sect2>

<!-- ********** -->

<sect2 id="lirc">
<title>Ovládání z LIRC</title>

<para>
Linux Infrared Remote Control &ndash; použijte jednoduše vyrobitelný doma udělaný
IR-přijímač,
(téměř) libovolný dálkový ovládač a ovládejte jím svůj Linux!
Více se o tom dovíte na <ulink url="http://www.lirc.org">domácí stránce LIRC</ulink>.
</para>

<para>
Pokud máte nainstalován balíček LIRC, <filename>configure</filename> jej zdetekuje.
Pokud vše dopadne dobře, <application>MPlayer</application> při startu
vypíše "<systemitem>Nastavuji podporu LIRC...</systemitem>".
Pokud dojde k chybě, oznámí vám to. Pokud nevypíše žádnou zprávu o LIRC,
pak pro něj není podpora zakompilována. To je vše :-)
</para>

<para>
Jméno spustitelného souboru <application>MPlayer</application>u je - překvapení -
<filename>mplayer</filename>. Můžete použít jakýkoli příkaz
<application>MPlayer</application>u a dokonce i více než jeden, pokud je oddělíte
znakem <literal>\n</literal>.
Nezapomeňte zapnout opakovací (repeat) příznak v <filename>.lircrc</filename> tam,
kde to dává smysl (vyhledávání, hlasitost, atd.).
Zde je výňatek z demonstračního
<filename>.lircrc</filename>:
</para>

<programlisting>
begin
     button = VOLUME_PLUS
     prog = mplayer
     config = volume 1
     repeat = 1
end

begin
    button = VOLUME_MINUS
    prog = mplayer
    config = volume -1
    repeat = 1
end

begin
    button = CD_PLAY
    prog = mplayer
    config = pause
end

begin
    button = CD_STOP
    prog = mplayer
    config = seek 0 1\npause
end<!--
--></programlisting>

<para>
Pokud se vám nelíbí standardní umístění lirc-config souboru
(<filename>~/.lircrc</filename>) použijte volbu <option>-lircconf
<replaceable>soubor</replaceable></option> k určení jiného souboru.
</para>
</sect2>

<!-- ********** -->

<sect2 id="slave-mode">
<title>Závislý režim</title>

<para>
Závislý režim vám umožňuje vytvořit jednoduché ovládací panely (frontendy)
<application>MPlayer</application>u. Pokud je <application>MPlayer</application>
spuštěn s volbou <option>-slave</option>, pak bude číst příkazy oddělené novým
řádkem (\n) ze standardního vstupu.
Příkazy jsou dokumentovány v souboru
<ulink url="../../tech/slave.txt">slave.txt</ulink>.
</para>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="streaming">
<title>Přehrávání datových proudů ze sítě nebo rour</title>

<para>
<application>MPlayer</application> umí přehrávat soubory ze sítě s použitím protokolu
HTTP, FTP, MMS nebo RTSP/RTP.
</para>

<para>
Přehrávání pracuje jednoduše tak, že uvedete URL na příkazovém řádku.
<application>MPlayer</application> ctí systémovou proměnnou <envar>http_proxy</envar>
a použije proxy pokud je k dispozici. Proxy může být rovněž vynucena:
<screen>
mplayer <replaceable>http_proxy://proxy.micorsops.com:3128/http://micorsops.com:80/stream.asf</replaceable>
</screen>
</para>

<para>
<application>MPlayer</application> umí číst ze std. vstupu
(<emphasis>ne</emphasis> z pojmenovaných rour). To může být například použito
pro přehrávání z FTP:
<screen>
wget <replaceable>ftp://micorsops.com/something.avi</replaceable> -O - | mplayer -
</screen>
</para>

<note><para>
Také doporučujeme zapnout <option>-cache</option> při přehrávání
ze sítě:
<screen>
wget <replaceable>ftp://micorsops.com/something.avi</replaceable> -O - | mplayer -cache 8192 -
</screen>
</para></note>

<!-- ********** -->

<sect2 id="streaming-save">
<title>Uložení proudového obsahu</title>

<para>
Jakmile jste přiměli <application>MPlayer</application> přehrát
váš oblíbený internetový proud, můžete použít volbu
<option>-dumpstream</option> k uložení datového proudu do souboru.
For example:
<screen>
mplayer <replaceable>http://217.71.208.37:8006</replaceable> -dumpstream -dumpfile <replaceable>proud.asf</replaceable>
</screen>
uloží proudové video z
<replaceable>http://217.71.208.37:8006</replaceable> do
<replaceable>proud.asf</replaceable>.
Pracovat to bude se všemi <application>MPlayer</application>em podporovanými
protokoly, jako MMS, RTSP, a tak dále.
</para>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="drives">
<title>CD/DVD mechaniky</title>

<para>
Moderní CD-ROM mechaniky dosahují velmi vysokých otáček a některé z nich
mohou pracovat i se sníženými otáčkami. Existuje několik důvodů, pro
které byste mohli chtít změnit rychlost CD-ROM mechaniky:
</para>

<itemizedlist>
<listitem><para>
  Byly zprávy o chybách čtení při vysokých rychlostech, zvláště u špatně
  vylisovaných CD-ROMů. Z těchto důvodů může snížení rychlosti působit
  jako prevence ztráty dat.
</para></listitem>

<listitem><para>
  Mnoho CD-ROM mechanik je nechutně hlučných, nižší rychlost může omezit
  tento hluk.
</para></listitem>
</itemizedlist>

<!-- ********** -->

<sect2 id="drives_linux">
<title>Linux</title>

<para>
Můžete snížit rychlost IDE CD-ROM mechanik pomocí <command>hdparm</command>,
<command>setcd</command> nebo <command>cdctl</command>. Pracuje to asi takto:
<screen>hdparm -E <replaceable>[rychlost]</replaceable> <replaceable>[mechanika cdrom]</replaceable></screen>
<screen>setcd -x <replaceable>[rychlost]</replaceable> <replaceable>[mechanika cdrom]</replaceable></screen>
<screen>cdctl -bS <replaceable>[rychlost]</replaceable></screen>
</para>

<para>
Pokud používáte SCSI emulaci, budete muset předat tato nastavení do skutečného
IDE zařízení, nikoli emulovaného SCSI zařízení.
</para>

<para>
Pokud máte práva root-a, následující příkaz vám rovněž může pomoci:
<screen>echo file_readahead:2000000 &gt; /proc/ide/<replaceable>[mechanika cdrom]</replaceable>/settings</screen>
</para>

<para>
To nastaví čtení napřed na 2MB, což pomůže při poškrábaných médiích.
Pokud ji však nastavíte příliš vysoko, bude mechanika stále zrychlovat a
zpomalovat, což výrazně sníží její výkon.
Doporučujeme vám rovněž vyladit vaši CD-ROM mechaniku pomocí <command>hdparm</command>:
<screen>hdparm -d1 -a8 -u1 <replaceable>[cdrom zařízení]</replaceable></screen>
</para>

<para>
To zapne DMA přístup, čtení napřed a odmaskování IRQ (přečtěte si man stránku
programu <command>hdparm</command> pro podrobné vysvětlení).
</para>

<para>
Prostudujte si
„<filename>/proc/ide/<replaceable>(cdrom zařízení)</replaceable>/settings</filename>“
pro jemné doladění vaší CD-ROM.
</para>

<para>
SCSI mechaniky nemají jednotný způsob pro nastavení těchto parametrů
(Znáte nějaký? Řekněte nám jej!). Existuje nástroj, který pracuje se
<ulink url="http://das.ist.org/~georg/">SCSI mechanikami Plextor</ulink>.
</para>
</sect2>

<!-- ********** -->

<sect2 id="drives_freebsd">
<title>FreeBSD</title>

<para>rychlost:
<screen>
cdcontrol [-f <replaceable>zařízení</replaceable>] speed <replaceable>[rychlost]</replaceable>
</screen>
</para>

<para>DMA:
<screen>
sysctl hw.ata.atapi_dma=1
</screen>
</para>

</sect2>

</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="dvd">
<title>Přehrávání DVD</title>

<para>
Úplný seznam dostupných voleb naleznete v man stránce.
Syntaxe pro přehrání standardního DVD je následující:
<screen>
mplayer dvd://<replaceable>&lt;track&gt;</replaceable> [-dvd-device <replaceable>&lt;DVD_zařízení&gt;</replaceable>]
</screen>
</para>

<para>
Příklad:
<screen>mplayer dvd://1 -dvd-device /dev/hdc</screen>
</para>

<para>
Pokud jste kompilovali <application>MPlayer</application> s podporou dvdnav,
je syntaxe stejná až na to, že musíte používat dvdnav:// místo dvd://.
</para>

<para>
Výchozím DVD zařízením je <filename>/dev/dvd</filename>. Pokud se vaše nastavení
liší, vytvořte symlink, nebo uveďte správné zařízení na příkazovém řádku
pomocí volby <option>-dvd-device</option>.
</para>

<para>
<application>MPlayer</application> používá <systemitem>libdvdread</systemitem> a
<systemitem>libdvdcss</systemitem> pro přehrávání a dekódování DVD. Tyto dvě
knihovny jsou obsaženy ve zdrojových kódech
<application>MPlayer</application>u, nemusíte je tedy instalovat zvlášť.
Můžete rovněž použít systémové verze těchto knihoven, ale toto řešení
nedoporučujeme, protože může vést k chybám,
nekompatibilitě knihovny a nižší rychlosti.
</para>

<note><para>
V případě problémů s dekódováním DVD, zkuste vypnout supermount a podobná udělátka.
Některé RPC-2 mechaniky mohou rovněž vyžadovat nastavení region kódu.
</para></note>

<formalpara>
<title>Dekódování DVD</title>
<para>
Dekódování DVD provádí <systemitem>libdvdcss</systemitem>. Metodu
můžete zvolit pomocí proměnné prostředí <envar>DVDCSS_METHOD</envar>,
detaIly viz manuálová stránka.
</para>
</formalpara>

<sect2 id="region_code">
<title>Kód regionu</title>
<para>
DVD mechaniky v současnosti přicházejí s nesmyslným omezením nazvaným
<ulink url="http://en.wikipedia.org/wiki/DVD_region_code">kód regionu</ulink>.
To je způsob jak přinutit DVD mechaniku akceptovat pouze DVD vyrobené pro
jeden ze šesti různých regionů na které byl rozdělen svět. Jak si může skupina lidí
zasednout ke kulatému stolu, přijít s takovým nápadem a čekat, že se svět
21. století skloní před jejich vůlí je naprosto nepochopitelné
</para>

<para>
Mechaniky, které vynucují nastavení regionu poze softwarově jsou známy také jako
RPC-1 a ty, které to dělají v hardware jako RPC-2. Mechaniky RPC-2 umožňují změnu
kódu regionu pětkrát a pak zůstane pevný.
V Linuxu můžete použít nástroj
<ulink url="http://linvdr.org/projects/regionset/">regionset</ulink>
pro nastavení kódu regionu vaší DVD mechaniky.
</para>

<para>
Naštěstí je možné konvertovat RPC-2 mechaniky na RPC-1 pomocí
upgrade firmware. Vyplňte modelové číslo vaší DVD mechaniky do svého oblíbeného
vyhledávače, nebo se podívejte do fóra a sekce download
<ulink url="http://www.rpc1.org/">„Firmware stránek“</ulink>.
Ačkoli platí obvyklé „kazy“ upgradů fimware, zkušenosti se zbavením se
vynucování region kódů jsou obecně kladné.
</para>
</sect2>

</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="vcd">
<title>Přehrávání VCD</title>
<para>
Úplný seznam dostupných voleb naleznete v man stránce. Syntaxe pro standardní
Video CD (VCD) je následující:
<screen>mplayer vcd://<replaceable>&lt;stopa&gt;</replaceable> [-cdrom-device <replaceable>&lt;zařízení&gt;</replaceable>]</screen>
Příklad:
<screen>mplayer vcd://2 -cdrom-device /dev/hdc</screen>
Výchozím VCD zařízením je <filename>/dev/cdrom</filename>. Pokud se vaše nastavení
liší, vytvořte symlink nebo uveďte správné zařízení na příkazovém řádku pomocí volby
<option>-cdrom-device</option>.
</para>

<note><para>
Minimálně SCSI CD-ROM mechaniky Plextor a Toshiba vykazují mizerný výkon
při čtení VCD. To proto, že CDROMREADRAW <systemitem>ioctl</systemitem>
není pro tyto mechaniky plně implementováno. Pokud máte zkušenosti se
SCSI programováním, prosíme
<ulink url="../../tech/patches.txt">pomozte nám</ulink>
implementovat obecnou SCSI podporu pro VCD.
</para></note>

<para>
Mezitím můžete extrahovat data z VCD pomocí
<ulink url="http://ftp.ntut.edu.tw/ftp/OS/Linux/packages/X/viewers/readvcd/">readvcd</ulink>
a výsledný soubor přehrát v <application>MPlayer</application>u.
</para>

<formalpara>
<title>Struktura VCD</title>
<para>
Video CD (VCD) je tvořeno CD-ROM XA sektory, čili stopy CD-ROM mode 2
třída 1 a 2:
<itemizedlist>
<listitem><para>
  První stopa je ve formátu mode 2 třída 2 což znamená, že používá L2
  korekci chyb. Stopa obsahuje souborový systém ISO-9660 s 2048
  bajty/sektor. Tento souborový systém obsahuje VCD metadata informace,
  spolu se statickými snímky často používanými v menu. MPEG segmenty menu
  mohou být rovněž uloženy v této první stopě, ale tyto MPEGy musí být
  rozsekány na série 150 sektorových chunků. Souborový systém ISO-9660
  může obsahovat další soubory, které nejsou potřeba pro operace
  s VCD.
</para></listitem>

<listitem><para>
  Druhá a ostatní stopy jsou všeobecně surovými MPEG (film) stopami
  s 2324 bajty/sektor, obsahující jeden MPEG PS datový paket na
  sektor. Ty jsou v mode 2 třída 1 formátu, takže obsahují více dat
  v každém sektoru za cenu omezení korekce chyb. Je rovněž možné mít
  CD-DA stopy na VCD za první stopou.
  V některých operačních systémech jsou triky, které umožňují zpřístupnit
  tyto ne-ISO-9660 stopy v systému souborů. V dalších operačních
  systémech jako GNU/Linux to není možné (zatím). Zde MPEG data
  <emphasis role="bold">nemohou být připojena</emphasis>. Protože většina
  filmů je uložena uvnitř tohoto druhu stopy, měli byste nejprve zkusit
  <option>vcd://2</option>.
</para></listitem>

<listitem><para>
  Existují také VCD disky bez první stopy (jediná stopa bez systému souborů).
  Můžete je přehrát, ale nemohou být namountovány.
</para></listitem>

<listitem><para>
  Definice standardu Video CD se nazývá
  Philips „White Book“ a není obecně přístupná online, ale musí být zakoupena
  od Philipsu. Podrobnější informace o Video CD můžete nalézt
  <ulink url="http://www.vcdimager.org/pub/vcdimager/manuals/0.7/vcdimager.html#SEC4">v dokumentaci programu vcdimager</ulink>.
</para></listitem>
</itemizedlist>
</para>
</formalpara>

<formalpara>
<title>Pár slov o .DAT souborech</title>
<para>
Soubor veliký ~600 MB viditelný v první stopě připojeného VCD není
skutečným souborem! Je to takzvaná ISO gateway, vytvořená proto,
aby mohl Windows přistupovat k těmto stopám (Windows vůbec neumožňuje
aplikacím surový přístup k zařízení).
Pod Linuxem nemůžete kopírovat nebo přehrávat tyto soubory
(obsahují jen nesmysly). Pod Windows je to možné, protože jeho iso9660
ovladač emuluje surový přístup ke stopě v tomto souboru. Abyste mohli
přehrát .DAT soubor, potřebujete ovladač kernelu který můžete nalézt
v Linuxové verzi PowerDVD. Obsahuje upravený ovladač systému souborů
iso9660 (<filename>vcdfs/isofs-2.4.X.o</filename>), který umí emulovat
surové stopy přes tento stínový .DAT soubor. Pokud připojíte disk
s pomocí jejich ovladače, můžete kopírovat či dokonce přehrávat .DAT
soubory <application>MPlayer</application>em. Ale nebude to fungovat
se standardním iso9660 ovladačem z Linuxového kernelu! Místo toho
použijte <option>vcd://</option>. Alternativou kopírování VCD je
nový jaderný ovladač jménem
<ulink url="http://www.elis.rug.ac.be/~ronsse/cdfs/">cdfs</ulink>
(není součástí oficiálního jádra), který zobrazuje CD sekce jako
obrazové soubory a program
<ulink url="http://cdrdao.sf.net/">cdrdao</ulink>, který bit-po-bitu
grabuje/kopíruje CD.
</para>
</formalpara>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="edl" xreflabel="Seznamy editačních zásahů (EDL)">
<title>Seznamy editačních zásahů (EDL)</title>

<para>
Systém seznamů editačních zásahů (EDL) umožňuje automaticky vynechat nebo vypnout
zvuk v částech videa při přehrávání, což je zajišťováno pro každý film zvláštním
EDL konfiguračním souborem.
</para>

<para>
Toho se dá využít pro ty, kdo chtějí sledovat film v "rodinném" režimu.
Můžete vystříhat veškeré násilí, nechutnosti, Jar-Jar Binkse .. z filmu
podle svých vlastních osobních preferencí. Mimoto jsou zde i jiná využití,
jako je automatické vystřihávání reklam z videa které sleduješ.
</para>

<para>
Formát EDL souboru je poměrně kostrbatý. Každý příkaz je na samostatném
řádku a označuje co dělat (vystřihnout/ztišit) a kdy to dělat
(pomocí ukazatelů v sekundách).
</para>

<!-- ********** -->

<sect2 id="edl_using">
<title>Použití EDL souboru</title>

<para>
Vložte volbu <option>-edl &lt;soubor&gt;</option> při spouštění
<application>MPlayer</application>, se jménem EDL souboru, který chcete použít
na video.
</para>
</sect2>

<!-- ********** -->

<sect2 id="edl_making">
<title>Vytvoření EDL souboru</title>

<para>
Současný formát EDL souboru je:
<programlisting>[počáteční sekunda] [koncová sekunda] [akce]</programlisting>
Kde jsou sekundy desetinnými čísly a akce je buď
<literal>0</literal> pro vynechání nebo <literal>1</literal> pro vypnutí zvuku.
Příklad:
<programlisting>
5.3   7.1    0
15    16.7   1
420   422    0
</programlisting>
To vynechá část videa mezi sekundami 5.3 a 7.1, pak vypne zvuk na
15 sekundě, zapne jej na 16.7 sekundy a vynechá část videa mezi sekundami 420 a 422.
Tyto akce budou provedeny jakmile časovač přehrávání dosáhne hodnoty zadané
v souboru.
</para>

<para>
Pro vytvoření EDL souboru se kterým budete moci začít, použijte volbu
<option>-edlout &lt;soubor&gt;</option>. Během přehrávání jen stiskněte
<keycap>i</keycap> pro označení začátku a konce bloku. Pro vyznačený čas
bude do souboru zapsán odpovídající záznam. Můžete se pak vrátit a doladit
vygenerovaný EDL soubor, stejně jako změnit výchozí akci, což je vystřižení
vyznačených bloků.
</para>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="advaudio" xreflabel="Advanced Audio">
<title>Pokročilé audio</title>

<sect2 id="advaudio-surround">
<title>Surround/Vícekanálové přehrávání</title>

<sect3 id="advaudio-surround-DVD">
<title>DVD</title>

<para>
Většina DVD a mnoho jiných souborů obsahuje surround zvuk.
<application>MPlayer</application> podporuje přehrávání přehrávání surround,
ale ve výchozím nastavení jej nezapíná, jelikož stereo vybavení je mnohem
častější. Pro přehrávání souboru, který má více než dvoukanálový zvuk použijte
volbu <option>-channels</option>.
Například pro přehrání DVD s 5.1 zvukem:
<screen>mplayer dvd://1 -channels 6</screen>
Poznamenejme, že ačkoli se jmenuje "5.1", ve skutečnosti má šest kanálů.
Pokud máte surround zvukové vybavení, můžete si přidat volbu
<option>channels</option> do svého konfiguračního souboru
<application>MPlayer</application>u <filename>~/.mplayer/config</filename>.
Například pro použití čtyřkanálového přehrávání zvuku jako výchozí, přidejte
následující řádek:
<programlisting>channels=4</programlisting>
<application>MPlayer</application> pak poskytuje zvuk ve čtyřech kanálech,
pokud jsou všechny čtyři kanály k dispozici.
</para>
</sect3>


<sect3 id="advaudio-surround-stereoinfour">
<title>Přehrávání stereo souborů do čtyřech reproduktorů</title>

<para>
<application>MPlayer</application> ve výchozím nastavení neduplikuje žádné
kanály a nedělá to ani většina audio ovladačů. Pokud to chcete udělat
ručně:
<screen>mplayer <replaceable>soubor</replaceable> -af channels=2:2:0:1:0:0</screen>
Vysvětlení naleznete v sekci
<link linkend="advaudio-channels-copying">kopírování kanálů</link>.
</para>
</sect3>


<sect3 id="advaudio-surround-passthrough">
<title>AC–3/DTS Passthrough</title>

<para>
DVD mají obvykle surround zvuk enkódovaný ve formátu AC–3 (Dolby Digital) nebo
DTS (Digital Theater System). Některá moderní zařízení jsou schopna dekódovat
tyto formáty interně. <application>MPlayer</application> lze nakonfigurovat
tak, aby přenesl zvuková data bez dekódování. To bude fungovat pouze pokud máte
S/PDIF (Sony/Philips Digital Interface) jack ve zvukové kartě.
</para>

<para>
Pokud vaše zařízení umí dekódovat jak AC–3, tak DTS, můžete bezpečně zapnout
passthrough pro oba formáty. Jinak zapněte passthrough pouze pro formát, který
vaše zařízení podporuje.
</para>

<itemizedlist>
<title>Zapnutí passthrough z příkazového řádku:</title>
<listitem><para>
  Jen pro AC–3 použijte <option>-ac hwac3</option>
</para></listitem>
<listitem><para>
  Jen pro DTS použijte <option>-ac hwdts</option>
</para></listitem>
<listitem><para>
  Pro oba (AC–3 i DTS) použijte <option>-afm hwac3</option>
</para></listitem>
</itemizedlist>

<itemizedlist>
<title>Zapnutí passthrough v konfiguračním souboru
  <application>MPlayer</application>u: </title>
<listitem><para>
  Jen pro AC–3 použijte <option>ac=hwac3,</option>
</para></listitem>
<listitem><para>
  Jen pro DTS použijte <option>ac=hwdts,</option>
</para></listitem>
<listitem><para>
  Pro oba (AC–3 i DTS) použijte <option>afm=hwac3</option>
</para></listitem>
</itemizedlist>

<para>
Povšimněte si čárky (",") na konci
<option>ac=hwac3,</option> a <option>ac=hwdts,</option>. To umožní
<application>MPlayer</application>u použít normální kodek, když přehrávaný
soubor nemá AC–3 nebo DTS zvuk. Volba <option>afm=hwac3</option> nevyžaduje
čárku; <application>MPlayer</application> se zařídí podle potřeby automaticky,
pokud je zvolena rodina audio kodeků.
</para>
</sect3>


<sect3 id="advaudio-surround-matrix">
<title>Maticově enkódovaný zvuk</title>

<para>
<emphasis>***TODO***</emphasis>
</para>

<para>
Tato sekce musí být teprve napsaná a nemůže být dokončena dokud nám někdo
nepošle vzorkové soubory pro testování. Pokud máte nějaké maticově enkódované
zvukové soubory, víte, kde je lze najít, nebo máte jakoukoli informaci, která
by mohla pomoci, pošlete prosím zprávu do konference
<ulink url="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-docs">MPlayer-DOCS</ulink>.
Do předmětu vložte "[matrix-encoded audio]".
</para>

<para>
Pokud nepřijdou žádné soubory nebo informace, tato sekce bude odstraněna.
</para>

<para>
Dobré odkazy:
<itemizedlist>
<listitem><para>
  <ulink url="http://electronics.howstuffworks.com/surround-sound5.htm">http://electronics.howstuffworks.com/surround-sound5.htm</ulink>
</para></listitem>
<listitem><para>
  <ulink url="http://www.extremetech.com/article2/0,1697,1016875,00.asp">http://www.extremetech.com/article2/0,1697,1016875,00.asp</ulink>
</para></listitem>
</itemizedlist>
</para>
</sect3>


<sect3 id="advaudio-surround-hrtf">
<title>Surround emulace ve sluchátkách</title>

<para>
<application>MPlayer</application> obsahuje HRTF (Head Related Transfer
Function) filtr založený na
<ulink url="http://sound.media.mit.edu/KEMAR.html">projektu MIT</ulink>,
kde jsou měření vzata z mikrofonů na umělé lidské hlavě.
</para>

<para>
Ačkoli není možné přesně imitovat surround systém,
<application>MPlayer</application>ův HRTF filtr produkuje prostorově mnohem
prokreslenější zvuk ve 2-kanálových sluchátkách. Obvyklé míchání jednoduše
kombinuje všechny kanály do dvou; krom kombinace kanálů, <option>hrtf</option>
generuje slabá echa, poněkud zvětšuje oddělení stereo kanálů a mění hlasitost
některých kmitočtů. Jestli HRTF zní lépe může záviset na zdrojovém zvuku a
osobním vkusu, ale určitě stojí za zkoušku.
</para>

<para>
Pro přehrání DVD s HRTF:
<screen>mplayer dvd://1 -channels 6 -af hrtf</screen>
</para>

<para>
<option>hrtf</option> pracuje dobře pouze s 5 nebo 6 kanály.
<option>hrtf</option> také vyžaduje zvuk 48 kHz. DVD audio již je 48 kHz, ale
pokud máte soubor s odlišným vzorkovacím kmitočtem, který chcete přehrávat
pomocí <option>hrtf</option>, musíte jej převzorkovat:
<screen>
mplayer <replaceable>soubor</replaceable> -channels 6 -af resample=48000,hrtf
</screen>
</para>
</sect3>


<sect3 id="advaudio-surround-troubleshooting">
<title>Potíže</title>

<para>
Pokud neslyšíte ze surround kanálů žádný zvuk, ověřte si nastavení směšovače
pomocí programu jako je <application>alsamixer</application>;
audio výstupy jsou často vypnuty a nastaveny na nulovou hlasitost jako výchozí.
</para>
</sect3>
</sect2>

<!-- ********** -->

<sect2 id="advaudio-channels">
<title>Manipulace s kanály</title>

<sect3 id="advaudio-channels-general">
<title>Obecné informace</title>

<para>
Naneštěstí neexistuje standard pro řazení kanálů. Následující řazení jsou
používaná v AC–3 a jsou poměrně typická; zkuste je a uvidíte, zda tomu váš zdroj
odpovídá. Kanály jsou číslovány od 0.

<orderedlist spacing="compact">
<title>mono</title>
  <listitem override="0"><para>střed</para></listitem>
</orderedlist>

<orderedlist spacing="compact">
<title>stereo</title>
  <listitem override="0"><para>levý</para></listitem>
  <listitem><para>pravý</para></listitem>
</orderedlist>

<orderedlist spacing="compact">
<title>kvadrofonní</title>
  <listitem override="0"><para>levý čelní</para></listitem>
  <listitem><para>pravý čelní</para></listitem>
  <listitem><para>levý zadní</para></listitem>
  <listitem><para>pravý zadní</para></listitem>
</orderedlist>

<orderedlist spacing="compact">
<title>surround 4.0</title>
  <listitem override="0"><para>levý čelní</para></listitem>
  <listitem><para>pravý čelní</para></listitem>
  <listitem><para>středový zadní</para></listitem>
  <listitem><para>středový čelní</para></listitem>
</orderedlist>

<orderedlist spacing="compact">
<title>surround 5.0</title>
  <listitem override="0"><para>levý čelní</para></listitem>
  <listitem><para>pravý čelní</para></listitem>
  <listitem><para>levý zadní</para></listitem>
  <listitem><para>pravý zadní</para></listitem>
  <listitem><para>středový čelní</para></listitem>
</orderedlist>

<orderedlist spacing="compact">
<title>surround 5.1</title>
  <listitem override="0"><para>levý čelní</para></listitem>
  <listitem><para>pravý čelní</para></listitem>
  <listitem><para>levý zadní</para></listitem>
  <listitem><para>pravý zadní</para></listitem>
  <listitem><para>středový čelní</para></listitem>
  <listitem><para>subwoofer</para></listitem>
</orderedlist>
</para>

<para>
Volba <option>-channels</option> se používá pro požadavek na počet kanálů z
dekodéru zvuku. Některé audio kodeky používají počet zadaných kanálů pro
rozhodování, zda je nutné podmixovat zdroj. Poznamenejme, že to ne vždy
ovlivní počet výstupních kanálů. Například použití
<option>-channels 4</option> pro přehrání stereo MP3 souboru povede ke
2-kanálovému výstupu, jelikož MP3 kodek neprodukuje extra kanály.
</para>

<para>
Pro vytvoření nebo odstranění kanálů slouží zvukový filtr
<option>channels</option>, který je rovněž vhodný k ovládání počtu zvukových
kanálů posílaných do zvukové karty. Viz následující sekce pro více informací
o manipulacích s kanály.
</para>
</sect3>


<sect3 id="advaudio-channels-mono">
<title>Přehrávání mono na dvou reproduktorech</title>

<para>
Mono zní mnohem lépe, když je přehráván dvěma reproduktory &ndash; zvlášť při
použití sluchátek. Audio soubory, které ve skutečnosti mají jeden kanál,
jsou automaticky přehrávány dvěma reproduktory; naneštěstí je většina
mono souborů ve skutečnosti enkódována jako stereo s jedním kanálem utlumeným.
Nejjednodušší a nejblbuvzdornější způsob, jak přinutit oba reproduktory
poskytovat stejný zvuk je filtr <option>extrastereo</option>:
<screen>mplayer <replaceable>soubor</replaceable> -af extrastereo=0</screen>
</para>

<para>
To zprůměruje oba kanály, takže budou mít poloviční hlasitost originálu.
Další sekce přinášejí příklady dalších možností, jak to udělat bez snížení
hlasitosti, ale ty jsou mnohem komplexnější a vyžadují odlišné volby
v závislosti na tom, který kanál ponecháte. Pokud potřebujete jen upravit
hlasitost, může být lehčí experimentovat s filtrem <option>volume</option>
a najít vhodnou hodnotu. Například:
<screen>
mplayer <replaceable>soubor</replaceable> -af extrastereo=0,volume=5
</screen>
</para>
</sect3>


<sect3 id="advaudio-channels-copying">
<title>Kopírování/přesun kanálů</title>

<para>
Filtr <option>channels</option> umí přesunout jakýkoli nebo všechny kanály.
Nastavení všech parametrů filtru <option>channels</option> může být
komplikované a vyžaduje pozornost.

<orderedlist spacing="compact">
<listitem><para>
  Rozhodněte, kolik výstupních kanálů potřebujete. To je první parametr.
</para></listitem>
<listitem><para>
  Spočítejte, kolik přesunů kanálů budete dělat. To je druhý parametr. Každý
  kanál může být přesunut naráz do několika různých kanálů, ale pamatujte, že
  pokud je kanál přesunut (dokonce i jen do jednoho cíle), bude zdrojový kanál
  prázdný dokud do něj nepřesunete jiný kanál. Chcete-li kanál zkopírovat,
  aby zdroj zůstal stejný, jednoduše přesuňte kanál do obou, cíle i zdroje.
  Například:
<programlisting>
channel 2 --> channel 3
channel 2 --> channel 2<!--
  --></programlisting>
</para></listitem>
<listitem><para>
  Zapište kopie kanálů jako dvojici parametrů. Pamatujte, že první kanál je 0,
  druhý 1 atd. Na pořadí parametrů nezáleží, pokud jsou správně sdruženy do
  párů <replaceable>zdroj:cíl</replaceable>.
</para></listitem>
</orderedlist>
</para>

<bridgehead>Příklad: jeden kanál ve dvou reproduktorech</bridgehead>
<para>
Zde máte příklad jiného způsobu, jak hrát jeden kanál v obou reproduktorech.
Pro náš účel předpokládejme, že by měl být přehráván levý kanál a zahozen pravý.
Následujeme výše uvedený postup:
<orderedlist>
<listitem><para>
  Abychom měli výstupní kanál pro každý z obou reproduktorů, musí být první
  parametr "2".
</para></listitem>
<listitem><para>
  Levý kanál musí být přesunut do pravého a také sám do sebe, aby nezůstal
  prázdný. To jsou celkem dva přesuny, takže druhý parametr bude také "2".
</para></listitem>
<listitem><para>
  Pro přesun levého kanálu (channel 0) do pravého kanálu (channel 1) bude dvojice
  parametrů "0:1" a "0:0" přesune levý kanál na sebe.
</para></listitem>
</orderedlist>
Vše dohromady pak dá:
<screen>
mplayer <replaceable>soubor</replaceable> -af channels=2:2:0:1:0:0
</screen>
</para>

<para>
Výhoda tohoto postupu před <option>extrastereo</option> je v tom, že
je hlasitost každého výstupního kanálu stejná jako hlasitost zdrojového
kanálu. Nevýhodou je to, že parametry musí být změněny na "2:2:1:0:1:1",
pokud je požadovaný zvuk v pravém kanálu. Také je těžší si je pamatovat
a napsat.
</para>

<bridgehead>Příklad: levý kanál v obou reproduktorech &ndash; zkratka</bridgehead>
<para>
Ve skutečnosti je mnohem jednodušší způsob použití filtru
<option>channels</option> pro přehrávání levého kanálu v obou reproduktorech:
<screen>mplayer <replaceable>soubor</replaceable> -af channels=1</screen>
Druhý kanál je zahozen a bez dalších parametrů je ponechán jediný zbývající
kanál. Ovladače zvukových karet hrají jednokanálový zvuk automaticky v obou
reproduktorech. To pracuje pouze pokud je požadovaný levý kanál.
</para>

<bridgehead>Příklad: kopírování čelních kanálů do zadních</bridgehead>
<para>
Dalším běžným úkonem je duplikace čelních kanálů a jejich přehrávání v zadních
reproduktorech kvadrofonní sestavy.
<orderedlist>
<listitem><para>
  Zde by mely být čtyři výstupní kanály. První parametr je "4".
</para></listitem>
<listitem><para>
  Oba přední kanály musí být přesunuty do odpovídajících zadních kanálů a
  také na sebe. To jsou čtyři přesuny, takže druhý parametr bude "4".
</para></listitem>
<listitem><para>
  Levý čelní (channel 0) přesuneme do levého zadního (channel 2): "0:2".
  Levý čelní musíme rovněž přesunout do sama sebe: "0:0". Pravý přední (channel
  1) je přesunut do pravého zadního (channel 3): "1:3" a také do sebe: "1:1".
</para></listitem>
</orderedlist>
Po zkombinování všech nastavení dostaneme:
<screen>
mplayer <replaceable>soubor</replaceable> -af channels=4:4:0:2:0:0:1:3:1:1
</screen>
</para>
</sect3>


<sect3 id="advaudio-channels-mixing">
<title>Mixování kanálů</title>

<para>
Filtr <option>pan</option> umí mixovat kanály podle požadavků uživatele.
Umožňuje vše co filtr <option>channels</option> a ještě víc. Naneštěstí jsou
jeho parametry ještě komplikovanější.
<orderedlist>
<listitem><para>
  Rozhodněte, s kolika kanály budeme pracovat. To můžete nastavit pomocí volby
  <option>-channels</option> a/nebo <option>-af channels</option>. Později se
  v příkladech dozvíte, kdy použít kterou.
</para></listitem>
<listitem><para>
  Rozhodněte, kolik kanálů propustíme do <option>pan</option> (ostatní dekódované
  kanály jsou zahozeny). To je první parametr a také ovládá, kolik kanálů bude mít
  výstup.
</para></listitem>
<listitem>
  <para>
  Zbývající parametry nastavují, kolik z daného kanálu bude namixováno do každého
  dalšího kanálu. Toto je ta komplikovaná část. Pro usnadnění si rozdělte
  parametry do několika skupin, jednu pro každý výstupní kanál. Každý parametr
  uvnitř skupiny odpovídá vstupnímu kanálu. Číslo, které nastavíte bude procento
  vstupního kanálu, které bude namixováno do výstupního kanálu.
  </para>
  <para>
  <option>pan</option> akceptuje hodnoty od 0 do 512, což odpovídá 0% až 51200%
  původní hlasitosti. Buďte opatrní, pokud používáte hodnoty větší než 1. Nejen,
  že vám to dá velmi vysokou hlasitost, ale pokud překročíte dynamický rozsah
  své zvukové karty, můžete uslyšet rány a praskání. Pokud chcete, můžete
  za <option>pan</option> přidat <option>,volume</option> pro zapnutí omezení,
  ale i tak je nejlepší udržet hodnoty <option>pan</option> dostatečně nízko,
  aby omezování nebylo potřeba.
  </para>
</listitem>
</orderedlist>
</para>

<bridgehead>Příklad: jeden kanál do dvou reproduktorů</bridgehead>
<para>
Zde máte další příklad pro přehrávání levého kanálu ve dvou reproduktorech.
Následujme výše uvedené kroky:
<orderedlist>
<listitem><para>
  Na výstupu <option>pan</option> by měly být dva kanály, takže první
  parametr je "2".
</para></listitem>
<listitem><para>
  Jelikož máme dva vstupní kanály, budeme mít dvě sady parametrů.
  Jelikož máme rovněž dva výstupní kanály, budeme mít dva parametry v každé
  sadě. Levý kanál ze souboru by měl jít s plnou hlasitostí do nového levého
  i pravého kanálu.
  Takže první sada parametrů je "1:1".
  Pravý kanál by měl být zahozen, takže druhá sada bude "0:0".
  Hodnoty 0 na konci je možné vynechat, ale pro snadnější pochopení
  je zde necháváme.
</para></listitem>
</orderedlist>
Dáme-li vše dohromady, dostaneme:
<screen>mplayer <replaceable>soubor</replaceable> -af pan=2:1:1:0:0</screen>
Pokud chceme místo levého kanálu pravý, budou parametry
<option>pan</option> tyto: "2:0:0:1:1".
</para>


<bridgehead>Příklad: levý kanál ve dvou reproduktorech zkráceně</bridgehead>
<para>
Stejně jako s <option>channels</option> můžeme použít zkrácený zápis, který
funguje pouze pro levý kanál:
<screen>mplayer <replaceable>soubor</replaceable> -af pan=1:1</screen>
Jelikož má <option>pan</option> pouze jeden vstupní kanál (druhý je zahozen),
máme pouze jednu sadu s jedním parametrem, takže tento jediný kanál dává
100% sám ze sebe.
</para>

<bridgehead>Příklad: podmixování 6-kanálového PCM</bridgehead>
<para>
<application>MPlayer</application>ův dekodér 6-kanálového PCM neumí podmixování.
Máme však možnost k tomu použít <option>pan</option>:
<orderedlist>
<listitem><para>
  Počet výstupních kanálů je 2, takže první parametr je "2".
</para></listitem>
<listitem><para>
  Při šesti vstupních kanálech budeme mít šest sad parametrů. Jelikož nás
  však zajímá pouze výstup z prvních dvou kanálů, vystačíme s pouhými dvěma
  sadami; zbývající čtyři sady můžeme vynechat. Pozor na to, že ne všechny
  vícekanálové zvukové soubory mají stejné řazení kanálů! Tento příklad
  demonstruje podmixování souboru se stejným řazením kanálů jako má AC–3 5.1:
  <programlisting>
0 - levý přední
1 - pravý přední
2 - levý zadní
3 - pravý zadní
4 - středový přední
5 - subwoofer<!--
  --></programlisting>
  První sada parametrů je výčtem procentních hodnot hlasitostí v daném pořadí,
  kterou by měl dostat každý výstupní kanál z levého předního kanálu: "1:0".
  Pravý přední kanál by měl jít do pravého výstupu: "0:1".
  Stejně tak zadní kanály: "1:0" a "0:1".
  Středový kanál jde do obou výstupních kanálů s poloviční hlasitostí:
  "0.5:0.5" a subwoofer jde do obou s plnou hlasitostí: "1:1".
</para></listitem>
</orderedlist>
Dáme-li vše dohromady, dostaneme:
<screen>
mplayer <replaceable>6-kanálové.wav</replaceable> -af pan=2:1:0:0:1:1:0:0:1:0.5:0.5:1:1
</screen>
Uvedené procentní hodnoty jsou pouhým příkladem. Upravte si je podle vlastního
uvážení.
</para>

<bridgehead>Příklad: Přehrávání 5.1 zvuku na velkých reprobednách bez subwooferu</bridgehead>
<para>
Pokud máte robustní čelní reprobedny, nemusíte utrácet za nákup subwooferu
pro kompletní 5.1 zvukový systém. Použijete-li volbu
<option>-channels 5</option> pro požadavek, aby liba52 dekódovala 5.1 zvuk
do 5.0, bude zkrátka kanál pro subwoofer zahozen. Pokud jeho obsah chcete
roznést do ostatních kanálů, musíte jej podmixovat ručně pomocí
<option>pan</option>:
<orderedlist>
<listitem><para>
  Jelikož se <option>pan</option> potřebuje dostat ke všem šesti kanálům, nastavte
  <option>-channels 6</option>, takže je liba52 dekóduje všechny.
</para></listitem>
<listitem><para>
  Filtr <option>pan</option> produkuje pouze pět kanálů, takže první parametr je 5.
</para></listitem>
<listitem><para>
  Šest vstupních a pět výstupních kanálů znamená šest sad po pěti parametrech.
  <itemizedlist spacing="compact">
  <listitem><para>
    Levý přední kanál půjde jen sám do sebe:
    "1:0:0:0:0"
  </para></listitem>
  <listitem><para>
    Stejně tak pravý přední kanál:
    "0:1:0:0:0"
  </para></listitem>
  <listitem><para>
    Taktéž levý zadní kanál:
    "0:0:1:0:0"
  </para></listitem>
  <listitem><para>
    Rovněž pravý zadní kanál:
    "0:0:0:1:0"
  </para></listitem>
  <listitem><para>
    Středový kanál jakbysmet:
    "0:0:0:0:1"
  </para></listitem>
  <listitem><para>
    A nyní se musíme rozhodnout, co uděláme se subwooferem,
    například půlku do předního levého a půlku do předního pravého:
    "0.5:0.5:0:0:0"
  </para></listitem>
  </itemizedlist>
</para></listitem>
</orderedlist>
Zkombinujeme-li to dohromady, dostaneme:
<screen>
mplayer <replaceable>dvd://1</replaceable> -channels 6 -af pan=5:1:0:0:0:0:0:1:0:0:0:0:0:1:0:0:0:0:0:1:0:0:0:0:0:1:0.5:0.5:0:0:0
</screen>
</para>
</sect3>
</sect2>

<!-- ********** -->

<sect2 id="advaudio-volume">
<title>Softwarové nastavení hlasitosti</title>

<para>
Některé zvukové stopy jsou příliš tiché na to, aby mohly být pohodlně
poslouchány bez zesílení. To je problém, pokud váš zvukový systém neumožňuje
potřebné zesílení. Volba <option>-softvol</option> poručí
<application>MPlayer</application>u použití vestavěného směšovače. Pak můžete
použít klávesy pro nastavení hlasitosti (výchozí <keycap>9</keycap> a
<keycap>0</keycap>) pro dosažení mnohem vyšších úrovní hlasitosti.
Takto neobejdete směšovač vaší zvukové karty; <application>MPlayer</application>
pouze zesílí signál před jeho odesláním do zvukové karty.
Následující příklad je dobrým startem:
<screen>
mplayer <replaceable>tichý-soubor</replaceable> -softvol -softvol-max 300
</screen>
Volba <option>-softvol-max</option> nastavuje maximální povolenou výstupní
hlasitost v procentech původní hlasitosti. Například,
<option>-softvol-max 200</option> umožní nastavit hlasitost až na dvojnásobek
původní úrovně.
Je bezpečné nastavit vysoké hodnoty volbou
<option>-softvol-max</option>; vyšší hlasitost se nepoužije, dokud nepoužijete
tlačítka nastavení hlasitosti. Jedinou nevýhodou velkých hodnot je to, že
jelikož <application>MPlayer</application> nastavuje hlasitost o podíl
z maximální hlasitosti, nebudete mít tak jemný krok nastavení pomocí tlačítek.
Pokud potřebujete přesnější nastavování, použijte nižší hodnotu pro
<option>-softvol-max</option> a/nebo nastavte
<option>-volstep 1</option>.
</para>

<para>
Volba <option>-softvol</option> pracuje tak, že ovládá zvukový filtr
<option>volume</option>. Chcete-li přehrávat soubor od začátku při určité
hlasitosti, můžete nastavit <option>volume</option> ručně:
<screen>mplayer <replaceable>tichý-soubor</replaceable> -af volume=10</screen>
Takto přehrajete soubor se ziskem 10 decibelů. Při použití filtru
<option>volume</option> buďte velmi opatrní. Pokud použijete příliš vysokou
hodnotu, můžete si poškodit sluch. Začněte s nízkou hodnotou a postupně
zvyšujte, až docílíte požadované hlasitosti. Při nastavení příliš vysokých
hodnot také hrozí, že <option>volume</option> bude nucen ořezat signál, aby
předešel odeslání dat mimo dovolený rozsah do zvukové karty; to povede ke
zkreslení signálu.
</para>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="tv-input" xreflabel="TV vstup">
<title>TV vstup</title>

<para>
Tato sekce je zaměřena na zpřístupnění
<emphasis role="bold">sledování/grabování z V4L kompatibilního TV tuneru
</emphasis>. Popis voleb k TV a ovládání z klávesnice naleznete v man
stránce.
</para>

<!-- ********** -->

<sect2 id="tv-compilation">
<title>Kompilace</title>

<procedure>
<step><para>
  Zaprvé musíte rekompilovat. <filename>./configure</filename> zdetekuje
  v4l hlavičkové soubory kernelu a existenci zařízení
  <filename>/dev/video*</filename>. Pokud existují, bude zabudována
  podpora pro TV (viz výstup z <filename>./configure</filename>).
</para></step>
<step><para>
  Ujistěte se, že váš tuner pracuje s jiným Linuxovým TV softwarem,
  například <application>XawTV</application>.
</para></step>
</procedure>
</sect2>

<!-- ********** -->

<sect2 id="tv-tips">
<title>Tipy pro používání</title>

<para>
Úplný seznam voleb je dostupný v manuálové stránce.
Zde je jen několik typů:

<itemizedlist>
<listitem><para>
  Použijte volbu <option>channels</option>. Příklad:
  <screen>-tv channels=26-MTV1,23-TV2</screen>
  Vysvětlení: Při použití této volby budou použitelné pouze kanály 26 a 23 a
  budete také mít krásný OSD text po přepnutí kanálů, zobrazující jméno
  kanálu. Mezery ve jméně kanálu musí být nahrazeny znakem
  "_".
</para></listitem>
<listitem><para>
  Zvolte rozumné rozměry obrazu. Rozměry výsledného obrazu by měly být
  bezezbytku dělitelné 16.
</para></listitem>
<listitem>
  <para>
  Pokud zachytáváte video se svislým rozlišením vyšším než polovina plného
  rozlišení (čili 288 pro PAL nebo 240 pro NTSC), pak 'snímky', které dostanete,
  budou ve skutečnosti prokládané páry půlsnímků.
  V závislosti na tom, co chcete s videem dělat, je můžete nechat jak jsou,
  destruktivně odstranit proklad, nebo rozdělit páry do individuálních políček.
  </para>
  <para>
  Jinak bude získaný snímek roztřepený
  během rychlých scén a regulátor datového toku nebude pravděpodobně schopen
  ani udržet nastavený datový tok, vzhledem k tomu, že prokladové artefakty
  produkují velké množství detailů, což spotřebovává velké přenosové pásmo.
  Odstraňování prokladu můžete zapnout pomocí volby
  <option>-vf pp=DEINT_TYPE</option>. Dobrou práci obvykle odvede
  <option>pp=lb</option>, ale záleží na osobních preferencích. Prostudujte si
  ostatní možnosti odstraňování prokladu v manuálu a vyzkoušejte je.
  </para>
</listitem>

<listitem><para>
  Odstřihněte mrtvý prostor. Když zachytáváte video, oblasti na okrajích jsou
  obvykle černé, nebo obsahují nějaký šum. Což opět zbytečně spotřebovává
  přenosové pásmo. Přesněji to nejsou samotné černé oblasti, ale ostrý přechod
  mezi černou a světlejším videem, ale to teď není důležité.
  Než začnete zachytávat, nastavte parametry volby <option>crop</option> tak,
  aby byl veškerý binec na okrajích odstřižen. Opět se snažte zachovat rozumné
  rozměry výsledného obrazu.
</para></listitem>
<listitem><para>
  Sledujte zatížení CPU. Většinu času by nemělo překročit hranici 90%. Pokud
  máte velkou vyrovnávací paměť pro zachytávání, dokáže
  <application>MEncoder</application> přežít několikasekundové přetížení, ale
  nic víc. Raději vypněte 3D OpenGL spořiče obrazovky a podobné věci.
</para></listitem>
<listitem><para>
  Nehrajte si se systémovými hodinami. <application>MEncoder</application>
  používá systémové hodiny pro A/V synchronizaci. Pokud přestavíte systémové
  hodiny (zvlášť nazpět), <application>MEncoder</application> bude zmaten a
  vy přijdete o snímky. To je velmi důležité pokud jste připojeni k síti a
  používáte nějaký časový synchronizační software jako je NTP. Musíte vypnout
  NTP během zachytávání, pokud chcete spolehlivě zachytávat.
</para></listitem>
<listitem><para>
  Neměňte <option>outfmt</option> pokud nevíte co děláte, nebo vaše
  karta/ovladač opravdu nepodporuje výchozí (YV12 barevný prostor).
  Ve starší verzi <application>MPlayer</application>u/
  <application>MEncoder</application>u bylo nutné nastavit výstupní formát.
  Tento problém by měl být v současných verzích vyřešen,
  <option>outfmt</option> již není nadále potřeba a výchozí hodnoty vyhovují
  pro většinu případů. Například pokud zachytáváte do DivX pomocí
  <systemitem class="library">libavcodec</systemitem>u a uvedete
  <option>outfmt=RGB24</option> pro zvýšení kvality zachytávaných snímků,
  stejně budou tyto snímky později konvertovány zpět na YV12, takže jediné co
  tím získáte je spousta vyplýtvaného výkonu CPU.
</para></listitem>
<listitem><para>
  Chcete-li nastavit barevný prostor I420 (<option>outfmt=i420</option>),
  musíte přidat i volbu <option>-vc rawi420</option> kvůli konfliktu fourcc
  Intel Indeo video kodekem.
</para></listitem>
<listitem><para>
  Existuje několik cest, jak zachytávat zvuk. Můžete nahrát zvuk buď pomocí
  zvukové karty pomocí externího propojení mezi video kartou a linkovým
  vstupem, nebo použitím vestavěného ADC v čipu bt878. Ve druhém případě
  musíte načíst ovladač <emphasis role="bold">btaudio</emphasis>. Přečtěte si
  soubor <filename>linux/Documentation/sound/btaudio</filename> (ve zdrojácích
  kernelu, nikoli <application>MPlayer</application>u) pro několik instrukcí
  jak použít tento ovladač.
</para></listitem>
<listitem><para>
  Pokud <application>MEncoder</application> nedokáže otevřít audio zařízení,
  ujistěte se, že je opravdu k dispozici. Můžete mít potíže se zvukovými
  servery jako aRts (KDE) nebo ESD (GNOME). Pokud máte plně duplexní zvukovou
  kartu (téměř každá slušná karta to již podporuje) a používáte KDE, zkuste
  zaškrtnout volbu "full duplex" v menu nastavení zvukového serveru.
</para></listitem>
</itemizedlist>
</para>
</sect2>

<!-- ********** -->

<sect2 id="tv-examples">
<title>Příklady</title>

<informalexample><para>
Modelový výstup do AAlib :)
<screen>mplayer -tv driver=dummy:width=640:height=480 -vo aa tv://</screen>
</para></informalexample>

<informalexample><para>
Vstup ze standardního V4L:
<screen>
mplayer -tv driver=v4l:width=640:height=480:outfmt=i420 -vc rawi420 -vo xv tv://
</screen>
</para></informalexample>

<informalexample><para>
Mnohem sofistikovanější příklad. Zde <application>MEncoder</application>
zachytává obraz v plném PALu, ořízne okraje a odstraní proklad obrazu pomocí
lineárního směšovacího algoritmu. Zvuk je komprimován konstantním datovým
tokem 64kbps LAME kodekem. Toto nastavení je vhodné pro zachytávání filmů.
<screen>
mencoder -tv driver=v4l:width=768:height=576 -oac mp3lame -lameopts cbr:br=64\
    -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=900 \
    -vf crop=720:544:24:16,pp=lb -o <replaceable>výstup.avi</replaceable> tv://
</screen>
</para></informalexample>

<informalexample><para>
Toto navíc přeškáluje video na 384x288 a zkomprimuje jej s datovým tokem
350kbps v režimu vysoké kvality. Volba vqmax uvolňuje kvantizer a umožní
video kompresoru podržet takto nízký datový tok i za cenu snížení kvality.
To lze použít pro záznam dlouhých TV seriálů, kde kvalita obrazu není až
tolik důležitá.
<screen>
mencoder -tv driver=v4l:width=768:height=576 \
    -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=350:vhq:vqmax=31:keyint=300 \
    -oac mp3lame -lameopts cbr:br=48 -sws 1 -o <replaceable>výstup.avi</replaceable>\
    -vf crop=720:540:24:18,pp=lb,scale=384:288 tv://
</screen>
Rovněž můžete nastavit menší rozměry obrazu ve volbě
<option>-tv</option> a vyhnout se tak softwarovému škálování, ale tento přístup
vyžaduje maximální množství informací a je trochu odolnější proti šumu.
Čipy bt8x8 umí průměrování pixelů pouze ve svislém směru díky
hardwarovým omezením.
</para></informalexample>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="radio">
<title>Rádio</title>

<sect2 id="radio-input" xreflabel="Radio input">
<title>Rádio vstup</title>

<para>
Tato sekce se zabývá tím, jak zprovoznit poslech rozhlasu
z&nbsp;V4L-kompatibilního rozhlasového tuneru.
Popis voleb a ovládání z klávesnice naleznete v man stránce.
</para>

<!-- ********** -->

<sect3 id="radio-compilation">
<title>Kompilace</title>

<procedure>
<step><para>
  Nejprve musíte znovupřeložit <application>MPlayer</application> pomocí
  <filename>./configure</filename> s <option>--enable-radio</option> a
  (pokud chcete i nahrávat) <option>--enable-radio-capture</option>.
</para></step>
<step><para>
  Ujistěte se, že váš tuner pracuje s jiným softwarem v Linuxu, například
  <application>XawTV</application>.
</para></step>
</procedure>
</sect3>

<!-- ********** -->

<sect3 id="radio-tips">
<title>Uživatelské tipy</title>

<para>
Plný výčet voleb je v manuálové stránce.
Zde uvádíme jen několik tipů:
<itemizedlist>
<listitem><para>
  Použití volby <option>channels</option>. Příklad:
  <screen>-radio channels=104.4-Sibir,103.9-Maximum</screen>
  Vysvětlení: Pomocí této volby budou k dispozici pouze stanice 104.4
  a 103.9. Budete mít krásný OSD text během přepínání kanálů,
  který zobrazí jméno kanálu. Mezery v názvech kanálů musí být
  nahrazeny znakem "_".
</para></listitem>
<listitem><para>
  Je mnoho způsobů, jak zachytávat (nahrávat) zvuk. Můžete buď zachytávat pomocí
  vstupu line-in zvukové karty propojeného vnější linkou s videokartou,
  nebo použitím vestavěného ADC v čipu saa7134. V druhém případě musíte
  zavést ovladač <systemitem>saa7134-alsa</systemitem> nebo
 <systemitem>saa7134-oss</systemitem>.
</para></listitem>
<listitem><para>
  <application>MEncoder</application> nelze použít pro zachytávání zvuku, jelikož
  vyžaduje videoproud, aby fungoval. Takže buď použijete
  <application>arecord</application> z projektu ALSA, nebo
  volbu <option>-ao pcm:file=file.wav</option>. V druhém případě neuslyšíte nic
  (pokud ovšem nemáte propojku s line-in a vypnuté mute na kanále line-in).
</para></listitem>
</itemizedlist>
</para>
</sect3>

<!-- ********** -->

<sect3 id="radio-examples">
<title>Příklady</title>

<informalexample><para>
Vstup ze standardního V4L (pomocí line-in kablu, zachytávání vypnuto):
<screen>mplayer radio://104.4</screen>
</para></informalexample>

<informalexample><para>
Vstup ze standardního V4L (pomocí line-in kablu, zachytávání vypnuto,
rozhraní V4Lv1):
<screen>mplayer -radio driver=v4l radio://104.4</screen>
</para></informalexample>

<informalexample><para>
Přehrávání druhé stanice ze seznamu:
<screen>mplayer -radio channels=104.4=Sibir,103.9=Maximm  radio://2</screen>
</para></informalexample>

<informalexample><para>
Průchod zvuku přes PCI sběrnici z interního ADC rádio karty.
V tomto příkladu se tuner používá jako druhá zvuková karta
(ALSA zařízení hw:1,0). Pro zařízení založené na saa7134 musí
být zaveden buď modul <systemitem>saa7134-alsa</systemitem> nebo
modul <systemitem>saa7134-oss</systemitem>.
<screen>
mplayer -rawaudio rate=32000 radio://2/capture \
    -radio adevice=hw=1.0:arate=32000:channels=104.4=Sibir,103.9=Maximm
</screen>
<note><para>
Když používáte názvy zařízení ALSA, dvojtečky musí být
nahrazeny znaky rovnáse, čárky tečkami.
</para></note>
</para>
</informalexample>
</sect3>
</sect2>

</sect1>
</chapter>
