#!/usr/bin/env python

import os
from helpers import parse_configfile
from subprocess import check_call

def main():
    mydir = os.getcwd()
    extra_args = parse_configfile('libass_options')

    args = ['--prefix=%s/build_libs' % mydir,
            '--enable-static', '--disable-shared']

    os.chdir('libass')
    executable = './autogen.sh'
    if (os.path.exists('configure')):
        executable = './configure'
    check_call([executable] + args + extra_args)

main()
